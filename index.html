<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Image Gallery</title>

		<!-- Importing Bulma CSS -->
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css"
		/>
		<!-- Importing Font Awesome for icons -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
		/>

		<style>
			/* Gallery styling */
			.gallery {
				column-count: 5; /* Masonry: Define the number of columns */
				column-gap: 15px;
				margin: 20px;
			}
			.gallery img {
				width: 100%;
				margin-bottom: 15px;
				transition: transform 0.3s ease-in-out;
				border-radius: 8px;
				box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
			}
			/* Zoom effect on hover */
			.gallery img:hover {
				transform: scale(1.05);
			}

			/* Adjust column count for smaller screens */
			@media (max-width: 768px) {
				.gallery {
					column-count: 3;
				}
			}

			@media (max-width: 576px) {
				.gallery {
					column-count: 1;
				}
			}

			/* Footer styling */
			footer {
				background-color: #363636;
				color: black;
				padding: 20px 0;
			}
			footer .content {
				text-align: center;
			}
			footer .content p {
				margin: 5px 0;
			}
			footer .social-icons {
				margin-top: 10px;
			}
			footer .social-icons a {
				color: black;
				margin: 0 10px;
				font-size: 1.5em;
				transition: color 0.3s;
			}
			footer .social-icons a:hover {
				color: #00d1b2; /* Bulma green color */
			}
		</style>
	</head>
	<body>
		<section class="section">
			<div class="container">
				<h1 class="title has-text-centered">Image Gallery</h1>
				<div class="gallery" id="gallery"></div>
				<!-- Dynamic gallery -->
			</div>
		</section>

		<!-- Nice Footer -->
		<footer class="footer">
			<div class="content has-text-centered">
				<p><strong>Image Gallery</strong> by Clad7987.</p>
				<p>Â© 2024 All rights reserved.</p>

				<div class="social-icons">
					<!-- Social media icons -->
					<a href="#" target="_blank" title="Facebook">
						<i class="fab fa-facebook"></i>
					</a>
					<a href="#" target="_blank" title="Instagram">
						<i class="fab fa-instagram"></i>
					</a>
					<a href="#" target="_blank" title="Twitter">
						<i class="fab fa-twitter"></i>
					</a>
				</div>
			</div>
		</footer>

		<script>
			// Function to load JSON with images
			function loadImages() {
				fetch("data/data.json") // Path to the JSON file
					.then((response) => response.json()) // Convert response to JSON
					.then((data) => {
						const gallery = document.getElementById("gallery");

						// Clear the gallery to avoid duplication
						gallery.innerHTML = "";

						// Sort images by date (create_at), most recent first
						data.images.sort(
							(a, b) =>
								new Date(b.create_at) - new Date(a.create_at)
						);

						// For each image in the JSON, create an img element and add it to the gallery
						data.images.map((image) => {
							const imgElement = document.createElement("img");
							imgElement.src = image.path;
							gallery.appendChild(imgElement);
						});
					})
					.catch((error) =>
						console.error("Error loading images:", error)
					);
			}

			// Call the function to load images when the page loads
			window.onload = loadImages;
		</script>
	</body>
</html>
